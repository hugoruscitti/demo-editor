{{#x-header}}
  <div class="pull-left">
    <div class="uk-button-group">
      {{#link-to "index" tagName="button" class="uk-button uk-button-mini"}} {{fa-icon "home"}} {{/link-to}}
      {{#link-to "project" tagName="button" class="uk-button uk-button-mini"}} {{fa-icon "briefcase"}} {{/link-to}}
    </div>
  </div>


  {{x-title title=model.title}}

  <div class="pull-right">
    <div class="uk-button-group">

      {{#x-pushbutton state=leftPanelVisible}} {{fa-icon "info"}} {{/x-pushbutton}}
      {{#x-pushbutton state=centerPanelVisible}} {{fa-icon "gamepad"}} {{/x-pushbutton}}
      {{#x-pushbutton state=editorPanelVisible}} {{fa-icon "align-left"}} {{/x-pushbutton}}

    </div>
  </div>
{{/x-header}}


<div class="window-content">
  <div class="pane">

    <div class="edit-contenedor">

      <div class="edit-principal">

        {{#if leftPanelVisible}}
          <div class="edit-panel-left">
            <div class="toolbar-actions text-center">
              <div class="uk-button-group">
                {{#x-pushbutton state=showInspector}} Inspector {{/x-pushbutton}}
                {{#x-pushbutton state=showManual}} Manual {{/x-pushbutton}}
              </div>
            </div>


            {{#if showManual}}
              {{x-manual}}
            {{else}}
              <h4>Inspector</h4>

              <p>Cantidad de actores: {{pilasService.actorCounter}}</p>
            {{/if}}

          </div>
        {{/if}}

        {{#if centerPanelVisible}}
          <div class="edit-panel-center">

            <div class="toolbar-actions">
              <div class="btn-group pull-right">
                <button {{action "reload" model}} class="uk-button uk-button-small"> {{fa-icon "refresh"}} </button>
              </div>
            </div>

            {{x-result pilas=pilasService onReady="onReady" project=model}}

            <div class="toolbar-actions">
              <div class="btn-group">
                {{#x-pushbutton state=showConsole position="right"}} {{x-icon icon="window"}} {{/x-pushbutton}}
                <button class="btn btn-default"> {{x-icon icon="ccw"}} </button>
              </div>

              <div class="btn-group btn-group pull-right">
                <!-- botones de depuraciÃ³n -->
              </div>
            </div>

            {{#if showConsole}}
              {{js-console eval_function=custom_eval_function autocomplete=custom_autocomplete_function}}
            {{/if}}

          </div>
        {{/if}}

        {{#if editorPanelVisible}}

          <div class="edit-panel-editor">

            <div class="toolbar-actions">

                {{#if loadingPilas}}
                  <button disabled class="uk-button uk-button-small">{{fa-icon "refresh" spin=true}} Ejecutar</button>
                {{else}}
                  <button {{action "saveAndReload" model}} class="uk-button uk-button-small">{{fa-icon "play"}} Ejecutar</button>
                {{/if}}

              {{#if itsSaved}}
              {{else}}
              {{/if}}

              <div class="pull-right">
                {{#link-to "edit.settingsModal" model tagName="button" class="uk-button uk-button-small"}} {{fa-icon "cog"}} {{/link-to}}
              </div>

            </div>

            {{x-editor value=model.code}}
          </div>

        {{/if}}

        {{#if allPanelsInvisible}}
          <div class="allPanelsInvisiblePanel">
            <p>&nbsp;</p>
          </div>
        {{/if}}

      </div>

    </div>

    {{outlet}}

  </div>
</div>
